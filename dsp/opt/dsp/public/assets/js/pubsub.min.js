!function(r){"use strict";var n={};r.PubSub=n;var t=r.define;!function(c){"use strict";var a={},e=-1,u="*";function i(r){var n;for(n in r){if(r.hasOwnProperty(n)){return true}}return false}function o(n){return function r(){throw n}}function f(r,n,t){try{r(n,t)}catch(r){setTimeout(o(r),0)}}function s(r,n,t){r(n,t)}function p(r,n,t,e){var i=a[n],o=e?s:f,u;if(!a.hasOwnProperty(n)){return}for(u in i){if(i.hasOwnProperty(u)){o(i[u],r,t)}}}function l(e,i,o){return function r(){var n=String(e),t=n.lastIndexOf(".");p(e,e,i,o);while(t!==-1){n=n.substr(0,t);t=n.lastIndexOf(".");p(e,n,i,o)}p(e,u,i,o)}}function b(r){var n=String(r),t=Boolean(a.hasOwnProperty(n)&&i(a[n]));return t}function y(r){var n=String(r),t=b(n)||b(u),e=n.lastIndexOf(".");while(!t&&e!==-1){n=n.substr(0,e);e=n.lastIndexOf(".");t=b(n)}return t}function t(r,n,t,e){r=typeof r==="symbol"?r.toString():r;var i=l(r,n,e),o=y(r);if(!o){return false}if(t===true){i()}else{setTimeout(i,0)}return true}c.publish=function(r,n){return t(r,n,false,c.immediateExceptions)},c.publishSync=function(r,n){return t(r,n,true,c.immediateExceptions)},c.subscribe=function(r,n){if(typeof n!=="function"){return false}r=typeof r==="symbol"?r.toString():r;if(!a.hasOwnProperty(r)){a[r]={}}var t="uid_"+String(++e);a[r][t]=n;return t},c.subscribeAll=function(r){return c.subscribe(u,r)},c.subscribeOnce=function(r,n){var t=c.subscribe(r,function(){c.unsubscribe(t);n.apply(this,arguments)});return c},c.clearAllSubscriptions=function r(){a={}},c.clearSubscriptions=function r(n){var t;for(t in a){if(a.hasOwnProperty(t)&&t.indexOf(n)===0){delete a[t]}}},c.countSubscriptions=function r(n){var t;var e=0;for(t in a){if(a.hasOwnProperty(t)&&t.indexOf(n)===0){e++}}return e},c.getSubscriptions=function r(n){var t;var e=[];for(t in a){if(a.hasOwnProperty(t)&&t.indexOf(n)===0){e.push(t)}}return e},c.unsubscribe=function(r){var n=function(r){var n;for(n in a){if(a.hasOwnProperty(n)&&n.indexOf(r)===0){return true}}return false},t=typeof r==="string"&&(a.hasOwnProperty(r)||n(r)),e=!t&&typeof r==="string",i=typeof r==="function",o=false,u,f,s;if(t){c.clearSubscriptions(r);return}for(u in a){if(a.hasOwnProperty(u)){f=a[u];if(e&&f[r]){delete f[r];o=r;break}if(i){for(s in f){if(f.hasOwnProperty(s)&&f[s]===r){delete f[s];o=true}}}}}return o}}(n),"function"==typeof t&&t.amd?t(function(){return n}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=n),exports.PubSub=n,module.exports=exports=n)}("object"==typeof window&&window||this);